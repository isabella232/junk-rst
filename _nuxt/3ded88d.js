(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1112:function(t,e,o){var r=o(27);r(r.P,"Array",{fill:o(1113)}),o(162)("fill")},1113:function(t,e,o){"use strict";var r=o(87),l=o(504),n=o(59);t.exports=function(t){for(var e=r(this),o=n(e.length),c=arguments.length,d=l(c>1?arguments[1]:void 0,o),v=c>2?arguments[2]:void 0,h=void 0===v?o:l(v,o);h>d;)e[d++]=t;return e}},1122:function(t,e,o){"use strict";o.r(e);o(58),o(37),o(32),o(21),o(51);var r=o(23),l=o(26),n={components:{NumberFormat:o(279).a},props:{data:{type:Object,required:!0}},methods:{getStatusType:function(t){var e="";switch(t){case"awaitingExecution":case"active":e="is-primary";break;case"expired":e="is-gray";break;case"failed":case"defeated":e="is-danger";break;case"pending":case"timeLocked":e="is-warning";break;case"executed":e="is-violet"}return e},onClick:function(){"loading"!==this.data.status&&this.$router.push({path:"/governance/".concat(this.data.id)})}}},c=o(14),d=Object(c.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"proposals-box",on:{click:t.onClick}},[o("div",{staticClass:"columns is-gapless"},[o("div",{staticClass:"column is-8-tablet is-9-desktop"},[o("div",{staticClass:"title"},[t._v("\n        "+t._s(t.data.title)+"\n      ")]),t._v(" "),o("div",{staticClass:"proposals-box--info"},[o("div",{staticClass:"proposals-box--id"},[o("span",{staticClass:"tag"},[t._v(t._s(t.data.id))])]),t._v(" "),o("b-tag",{attrs:{type:t.getStatusType(t.data.status)}},[t._v("\n          "+t._s(t.$t(t.data.status))+"\n        ")]),t._v(" "),o("div",{staticClass:"date"},[o("span",[t._v(t._s(t.$t("startDate"))+":")]),t._v(" "+t._s(this.$moment(t.data.startTime).format("l"))+"\n        ")]),t._v(" "),o("div",{staticClass:"date"},[o("span",[t._v(t._s(t.$t("endDate"))+":")]),t._v(" "+t._s(this.$moment(t.data.endTime).format("l"))+"\n        ")])],1)]),t._v(" "),o("div",{staticClass:"column is-4-tablet is-3-desktop"},[o("div",{staticClass:"results"},[o("div",{staticClass:"result"},[o("span",{staticClass:"has-text-primary"},[o("b-icon",{attrs:{icon:"check"}}),t._v(" "+t._s(t.$t("for")))],1),t._v(" "),o("span",[o("number-format",{attrs:{value:t.data.results.for}}),t._v(" TORN")],1)]),t._v(" "),o("div",{staticClass:"result is-danger"},[o("span",{staticClass:"has-text-danger"},[o("b-icon",{attrs:{icon:"close"}}),t._v(" "+t._s(t.$t("against")))],1),t._v(" "),o("span",[o("number-format",{attrs:{value:t.data.results.against}}),t._v(" TORN")],1)])])])])])}),[],!1,null,null,null).exports,v=(o(1112),o(103),{components:{},props:{size:{type:Number,default:5}},data:function(){return{emptyArray:Array(this.size).fill("")}}}),h=Object(c.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",t._l(t.emptyArray,(function(e,r){return o("div",{key:r,staticClass:"proposals-box"},[o("div",{staticClass:"columns is-gapless"},[o("div",{staticClass:"column is-8-tablet is-9-desktop"},[o("div",{staticClass:"title"},[o("b-skeleton",{attrs:{height:"28",width:"210"}})],1),t._v(" "),o("div",{staticClass:"proposals-box--info"},[o("div",{staticClass:"proposals-box--id"},[o("b-skeleton",{attrs:{height:"28",width:"30"}})],1),t._v(" "),o("b-skeleton",{attrs:{height:"28",width:"70"}}),t._v(" "),o("div",{staticClass:"date"},[o("b-skeleton",{attrs:{height:"21",width:"130"}})],1),t._v(" "),o("div",{staticClass:"date"},[o("b-skeleton",{attrs:{height:"21",width:"130"}})],1)],1)]),t._v(" "),o("div",{staticClass:"column is-4-tablet is-3-desktop"},[o("div",{staticClass:"results"},[o("div",{staticClass:"result"},[o("span",{staticClass:"has-text-primary"},[o("b-icon",{attrs:{icon:"check"}}),t._v(" "+t._s(t.$t("for")))],1),t._v(" "),o("b-skeleton",{attrs:{height:"15",width:"50"}})],1),t._v(" "),o("div",{staticClass:"result is-danger"},[o("span",{staticClass:"has-text-danger"},[o("b-icon",{attrs:{icon:"close"}}),t._v(" "+t._s(t.$t("against")))],1),t._v(" "),o("b-skeleton",{attrs:{height:"15",width:"50"}})],1)])])])])})),0)}),[],!1,null,null,null).exports;function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function _(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m=o(8).toBN,C={components:{ProposalsListItem:d,ProposalsListSkeleton:h},data:function(){return{proposalStatusFilter:"",timer:null}},computed:_(_(_(_(_({},Object(l.e)("governance/gov",["lockedBalance","proposals"])),Object(l.c)("governance/gov",["isFetchingProposals"])),Object(l.c)("token",["toDecimals"])),Object(l.c)("metamask",["networkConfig"])),{},{filteredProposals:function(){var t=this;return this.proposals.filter((function(e){return!t.proposalStatusFilter||(e.status===t.proposalStatusFilter||"awaitingExecution"===e.status)})).reverse()},hasProposalThreshold:function(){var t=m(this.networkConfig.constants.PROPOSAL_THRESHOLD);return m(this.lockedBalance).gte(t)},proposalThreshold:function(){return this.toDecimals(this.networkConfig.constants.PROPOSAL_THRESHOLD,18)}}),methods:{onCreateProposal:function(){this.$emit("onCreateProposal")}}},k={components:{ProposalsList:Object(c.a)(C,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"proposals-list"},[o("div",{staticClass:"proposals-list--header"},[o("div",{staticClass:"title"},[t._v(t._s(t.$t("proposals")))]),t._v(" "),o("b-field",{staticClass:"field-tabs"},[o("b-radio-button",{attrs:{"native-value":"",type:"is-primary"},model:{value:t.proposalStatusFilter,callback:function(e){t.proposalStatusFilter=e},expression:"proposalStatusFilter"}},[o("span",[t._v(t._s(t.$t("all")))])]),t._v(" "),o("b-radio-button",{attrs:{"native-value":"active",type:"is-primary"},model:{value:t.proposalStatusFilter,callback:function(e){t.proposalStatusFilter=e},expression:"proposalStatusFilter"}},[o("span",[t._v(t._s(t.$t("active")))])])],1),t._v(" "),o("b-field",{staticClass:"field-btn"},[o("b-tooltip",{attrs:{label:t.$t("proposalThresholdError",{PROPOSAL_THRESHOLD:t.$n(t.proposalThreshold)}),active:!t.hasProposalThreshold,multilined:""}},[o("b-button",{attrs:{type:"is-primary","icon-left":"plus",outlined:"",disabled:!t.hasProposalThreshold},on:{click:t.onCreateProposal}},[t._v("\n          "+t._s(t.$t("createProposal"))+"\n        ")])],1)],1)],1),t._v(" "),o("div",{staticClass:"proposals-list--container"},[t.isFetchingProposals?o("ProposalsListSkeleton"):t._l(t.filteredProposals,(function(t){return o("ProposalsListItem",{key:t.id,attrs:{data:t}})}))],2)])}),[],!1,null,null,null).exports},methods:{onCreateProposal:function(){this.$router.push({path:"/governance/create"})}}},O=Object(c.a)(k,(function(){var t=this.$createElement;return(this._self._c||t)("ProposalsList",{on:{onCreateProposal:this.onCreateProposal}})}),[],!1,null,null,null);e.default=O.exports}}]);