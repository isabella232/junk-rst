(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1114:function(e,t,n){e.exports=n.p+"img/use.158675d.svg"},1115:function(e,t,n){e.exports=n.p+"img/reward.b01c20a.svg"},1116:function(e,t,n){e.exports=n.p+"img/change.9beeb46.svg"},1121:function(e,t,n){"use strict";n.r(t);n(58),n(37),n(32),n(21),n(51),n(24);var r=n(4),c=n(23),o=n(26),l=n(281),d={data:function(){return{error:{type:"",msg:""},recoveryKey:""}},methods:{onConnect:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("account/recoverAccount",{recoveryKey:e.recoveryKey});case 3:e.$parent.close(),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("recoverAccount",t.t0.message),e.error={type:"is-warning",msg:e.$t("invalidRecoveryKey")};case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},onInput:function(){this.error={type:"",msg:""}}}},v=n(14),m=Object(v.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-card box box-modal"},[n("header",{staticClass:"box-modal-header is-spaced"},[n("div",{staticClass:"box-modal-title"},[e._v(e._s(e.$t("recoverTitle")))]),e._v(" "),n("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(t){return e.$emit("close")}}})]),e._v(" "),n("div",{staticClass:"note"},[e._v("\n    "+e._s(e.$t("recoverDescription"))+"\n  ")]),e._v(" "),n("div",{staticClass:"field"},[n("b-input",{staticClass:"is-disabled-resize",attrs:{type:"textarea",rows:"2",placeholder:e.$t("enterRecoveryKey"),"custom-class":e.error?e.error.type:"is-primary"},on:{input:e.onInput},model:{value:e.recoveryKey,callback:function(t){e.recoveryKey=t},expression:"recoveryKey"}}),e._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:""!==e.error.msg,expression:"error.msg !== ''"}],staticClass:"help",class:e.error.type},[e._v("\n      "+e._s(e.error.msg)+"\n    ")])],1),e._v(" "),n("b-button",{attrs:{type:"is-primary is-fullwidth",disabled:""===e.recoveryKey||""!==e.error.msg},on:{click:e.onConnect}},[e._v("\n    "+e._s(e.$t("connect"))+"\n  ")])],1)}),[],!1,null,null,null).exports,h={data:function(){return{recoveryKey:"",isBackuped:!1}},computed:{isIPFS:function(){return this.$isLoadedFromIPFS()}},mounted:function(){this.recoveryKey=this.$provider.web3.eth.accounts.create().privateKey.slice(2)},methods:{onCopy:function(){this.$store.dispatch("notice/addNoticeWithInterval",{notice:{title:"copied",type:"info"},interval:2e3})},onSetup:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$store.dispatch("loading/enable",{message:e.$t("publicKeyRequest")}),t.next=3,e.$store.dispatch("account/setupNewAccount",{privateKey:e.recoveryKey});case 3:setTimeout((function(){e.$store.dispatch("loading/disable")}),1e3),e.$parent.close();case 5:case"end":return t.stop()}}),t)})))()}}},_=Object(v.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-card box box-modal"},[n("header",{staticClass:"box-modal-header is-spaced"},[n("div",{staticClass:"box-modal-title"},[e._v(e._s(e.$t("setupTitle")))]),e._v(" "),n("button",{staticClass:"delete",attrs:{type:"button"},on:{click:function(t){return e.$emit("close")}}})]),e._v(" "),n("div",{staticClass:"note"},[e._v(e._s(e.$t("setupDescription")))]),e._v(" "),n("div",{staticClass:"field"},[n("div",{staticClass:"label-with-buttons"},[n("div",{staticClass:"label"},[e._v(e._s(e.$t("recoveryKey")))]),e._v(" "),n("b-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.recoveryKey,expression:"recoveryKey",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}],attrs:{type:"is-primary-text"}},[e._v("\n        "+e._s(e.$t("copy"))+"\n      ")])],1),e._v(" "),n("div",{staticClass:"notice is-recovery-key"},[n("div",{staticClass:"notice__p"},[e._v(e._s(e.recoveryKey))])])]),e._v(" "),n("b-checkbox",{model:{value:e.isBackuped,callback:function(t){e.isBackuped=t},expression:"isBackuped"}},[e._v(e._s(e.$t("iBackedUpTheRecovery")))]),e._v(" "),e.isBackuped&&e.isIPFS?n("div",{staticClass:"notice is-warning"},[n("div",{staticClass:"notice__p"},[e._v(e._s(e.$t("yourRecoveryKeyWontBeSaved")))])]):e._e(),e._v(" "),n("b-button",{attrs:{type:"is-primary is-fullwidth",disabled:!e.isBackuped},on:{click:e.onSetup}},[e._v("\n    "+e._s(e.$t("setup"))+"\n  ")])],1)}),[],!1,null,null,null).exports;function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w={components:{Readmore:Object(v.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"columns readmore"},[r("div",{staticClass:"column readmore-column"},[r("figure",{staticClass:"img"},[r("img",{attrs:{src:n(1114),width:"130",height:"135",alt:e.$t("readMoreFirstTitle")}})]),e._v(" "),r("h2",{staticClass:"title"},[e._v(e._s(e.$t("readMoreFirstTitle")))]),e._v(" "),r("p",{staticClass:"p"},[e._v("\n      "+e._s(e.$t("readMoreFirstParagraph"))+"\n    ")]),e._v(" "),r("a",[e._v(e._s(e.$t("readMore")))])]),e._v(" "),e._m(0),e._v(" "),r("div",{staticClass:"column readmore-column"},[r("figure",{staticClass:"img"},[r("img",{attrs:{src:n(1115),width:"59",height:"152",alt:e.$t("readMoreSecondTitle")}})]),e._v(" "),r("h2",{staticClass:"title"},[e._v(e._s(e.$t("readMoreSecondTitle")))]),e._v(" "),r("p",{staticClass:"p"},[e._v("\n      "+e._s(e.$t("readMoreSecondParagraph"))+"\n    ")]),e._v(" "),r("a",[e._v(e._s(e.$t("readMore")))])]),e._v(" "),e._m(1),e._v(" "),r("div",{staticClass:"column readmore-column"},[r("figure",{staticClass:"img"},[r("img",{attrs:{src:n(1116),width:"184",height:"184",alt:e.$t("readMoreThirdTitle")}})]),e._v(" "),r("h2",{staticClass:"title"},[e._v(e._s(e.$t("readMoreThirdTitle")))]),e._v(" "),r("p",{staticClass:"p"},[e._v("\n      "+e._s(e.$t("readMoreThirdParagraph"))+"\n    ")]),e._v(" "),r("a",[e._v(e._s(e.$t("readMore")))])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"column is-1"},[t("div",{staticClass:"sep"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"column is-1"},[t("div",{staticClass:"sep"})])}],!1,null,null,null).exports},computed:y(y({},Object(o.c)("metamask",["isLoggedIn"])),Object(o.c)("account",["hasAccount"])),methods:{onLogIn:function(){this.$buefy.modal.open({parent:this,component:l.a,hasModalCard:!0,width:440})},onSetup:function(){this.$buefy.modal.open({parent:this,component:_,hasModalCard:!0,width:440,customClass:"is-pinned"})},onConnectWithRecoveryKey:function(){this.$buefy.modal.open({parent:this,component:m,hasModalCard:!0,width:440,customClass:"is-pinned"}).$on("close",(function(){}))},onRecoverFromChain:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$store.dispatch("loading/enable",{message:e.$t("gettingAccountFromChain")}),t.next=3,e.$store.dispatch("account/recoverAccountFromChain",{});case 3:setTimeout((function(){e.$store.dispatch("loading/disable")}),1e3);case 4:case"end":return t.stop()}}),t)})))()}}};function C(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function $(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var O={components:{Account:Object(v.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"compliance"},[n("h1",{staticClass:"title is-size-2 is-size-3-mobile is-spaced"},[e._v("\n    Tornado.cash "),n("span",[e._v(e._s(e.$t("miningTool")))])]),e._v(" "),n("p",{staticClass:"p is-size-6"},[e._v("\n    "+e._s(e.$t("miningAccount"))+"\n  ")]),e._v(" "),n("div",{staticClass:"field"},[n("div",{staticClass:"buttons is-centered"},[e.isLoggedIn&&!e.hasAccount?n("b-button",{attrs:{type:"is-primary",outlined:""},on:{click:e.onSetup}},[e._v("\n        "+e._s(e.$t("setup"))+"\n      ")]):e._e(),e._v(" "),e.isLoggedIn?e._e():n("b-button",{attrs:{type:"is-primary",outlined:""},nativeOn:{click:function(t){return e.onLogIn(t)}}},[e._v("\n        "+e._s(e.$t("connect"))+"\n      ")])],1),e._v(" "),n("b-notification",{directives:[{name:"show",rawName:"v-show",value:e.isLoggedIn&&e.hasAccount,expression:"isLoggedIn && hasAccount"}],staticClass:"main-notification border",attrs:{type:"is-primary",closable:!1}},[n("strong",[e._v(e._s(e.$t("info"))+":")]),e._v("\n      "+e._s(e.$t("alreadyHaveAcc"))+"\n    ")]),e._v(" "),n("div",{staticClass:"buttons is-centered"},[n("b-button",{attrs:{type:"is-primary-link"},on:{click:e.onConnectWithRecoveryKey}},[e._v(e._s(e.$t("connectWithRecoveryKey")))]),e._v(" "),n("b-button",{directives:[{name:"show",rawName:"v-show",value:e.isLoggedIn,expression:"isLoggedIn"}],attrs:{type:"is-primary-link"},on:{click:e.onRecoverFromChain}},[e._v(e._s(e.$t("recoverFromChain")))])],1)],1),e._v(" "),n("Readmore")],1)}),[],!1,null,null,null).exports},data:function(){return{showDebug:!1,timer:null,balanceTimer:null}},computed:$($({},Object(o.c)("metamask",["isLoggedIn","netId"])),Object(o.c)("account",["isReadyToFarm","hasAccount"])),watch:{netId:function(e,t){e!==t&&e&&(clearTimeout(this.timer),this.updateAccount())}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$store.dispatch("loading/enable",{message:e.$t("gettingAccount")}),t.next=3,e.checkAccount();case 3:e.$store.dispatch("loading/disable"),document.onkeyup=function(t){t.ctrlKey&&68===t.which&&e.onDebug()},e.timer=setTimeout((function(){e.updateAccount(),e.infiniteUpdateBalance()}),1500);case 6:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){clearTimeout(this.timer),clearTimeout(this.balanceTimer)},methods:$($($($({},Object(o.b)("torn",["fetchTokenBalance"])),Object(o.b)("farmer",["fetchMinerState","fetchSwapVirtualBalance"])),Object(o.b)("account",["removeAccount","checkExistAccount","recoverAccountFromChain","updateAccountFromChain"])),{},{onDebug:function(){this.showDebug=!this.showDebug},infiniteUpdateBalance:function(){var e=this;this.fetchSwapVirtualBalance(),this.balanceTimer=setTimeout((function(){e.infiniteUpdateBalance()}),15e3)},updateAccount:function(){this.fetchTokenBalance(),this.fetchSwapVirtualBalance(),this.fetchMinerState(),this.updateAccountFromChain()},checkAccount:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.checkExistAccount();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error("Method checkAccount has err: ".concat(t.t0.message));case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()}})},k=Object(v.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mining"},[e.isReadyToFarm?[n("div",{staticClass:"b-tabs is-mining"},[n("nav",{staticClass:"tabs"},[n("ul",[n("n-link",{attrs:{to:"/mining",tag:"li"}},[n("a",[n("b-icon",{attrs:{icon:"arrow-down"}}),e._v(" "),n("span",[e._v(e._s(e.$t("claim")))])],1)]),e._v(" "),n("n-link",{attrs:{to:"/mining/txs",tag:"li"}},[n("a",[n("b-icon",{attrs:{icon:"arrow-up-down"}}),e._v(" "),n("span",[e._v(e._s(e.$t("txsHistory")))])],1)]),e._v(" "),n("n-link",{attrs:{to:"/mining/withdraw",tag:"li"}},[n("a",[n("b-icon",{attrs:{icon:"arrow-up"}}),e._v(" "),n("span",[e._v(e._s(e.$t("swap")))])],1)])],1)]),e._v(" "),n("section",{staticClass:"tab-content"},[n("nuxt-child")],1)]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showDebug,expression:"showDebug"}],staticClass:"field"},[n("hr"),e._v(" "),n("div",{staticClass:"label"},[e._v("Debug buttons")]),e._v(" "),n("b-button",{attrs:{type:"is-primary"},nativeOn:{click:function(t){return e.removeAccount(t)}}},[e._v("\n        Remove acc\n      ")])],1)]:n("Account")],2)}),[],!1,null,null,null);t.default=k.exports}}]);